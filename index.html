<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Trading Profit Sharing Calculator</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>Trading Profit Sharing Calculator</h1>
				<p>
					Calculate profit distribution and ownership percentages for your
					trading partnership
				</p>
			</div>

			<div class="content">
				<!-- Input Section -->
				<div class="section">
					<h2>ðŸ“Š Capital & Profit Input</h2>
					<div class="input-grid">
						<div class="input-group">
							<label for="totalProfit">Total Profit/Loss ($)</label>
							<input
								type="number"
								id="totalProfit"
								placeholder="Enter total profit (negative for loss)"
								step="0.01"
							/>
						</div>
						<div class="input-group">
							<label for="traderCapital">Trader Capital ($)</label>
							<input
								type="number"
								id="traderCapital"
								placeholder="Your capital investment"
								step="0.01"
								value="500"
							/>
						</div>
					</div>

					<div class="investors-section">
						<div
							style="
								display: flex;
								justify-content: space-between;
								align-items: center;
								margin-bottom: 20px;
							"
						>
							<h3 style="color: #2c3e50; margin: 0">Investors</h3>
							<button id="addInvestorBtn" class="btn btn-primary">
								<span>+ Add Investor</span>
							</button>
						</div>
						<div id="investorsContainer">
							<!-- Dynamic investor inputs will be added here -->
						</div>
					</div>

					<div class="notes-group">
						<label for="calculationNotes">Notes (Optional)</label>
						<textarea
							id="calculationNotes"
							placeholder="Add any notes about this calculation"
						></textarea>
					</div>

					<div
						style="margin-top: 30px; display: flex; justify-content: flex-end"
					>
						<button id="saveCalculationBtn" class="btn btn-primary">
							<span>ðŸ’¾ Save Calculation</span>
						</button>
					</div>
				</div>

				<!-- Results Section -->
				<div class="section">
					<h2>ðŸ’° Profit Distribution Results</h2>
					<div class="results-grid">
						<div class="result-card">
							<h3>Total Pool</h3>
							<div class="result-value currency" id="totalPool">$0.00</div>
						</div>
						<div class="result-card">
							<h3>Trader Share</h3>
							<div class="result-value currency" id="traderShare">$0.00</div>
						</div>
						<div class="result-card">
							<h3>Trader Fees Earned</h3>
							<div class="result-value currency" id="traderFees">$0.00</div>
						</div>
						<div class="result-card">
							<h3>Total Investors</h3>
							<div class="result-value" id="totalInvestors">0</div>
						</div>
						<div class="result-card">
							<h3>Profit Status</h3>
							<div class="result-value" id="profitStatus">
								<span class="profit-indicator profit">PROFIT</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Ownership Table -->
				<div class="section">
					<h2>ðŸ“ˆ Ownership & Capital Breakdown</h2>
					<table class="ownership-table">
						<thead>
							<tr>
								<th>Participant</th>
								<th>Initial Capital</th>
								<th>Ownership %</th>
								<th>Final Balance</th>
								<th>Profit/Loss</th>
							</tr>
						</thead>
						<tbody id="ownershipTableBody">
							<!-- Dynamic content will be inserted here -->
						</tbody>
					</table>
				</div>

				<!-- History Section -->
				<div class="section">
					<h2>ðŸ“… Calculation History</h2>
					<button
						id="loadHistoryBtn"
						class="btn btn-secondary"
						style="margin-bottom: 20px"
					>
						<span>ðŸ”ƒ Load History</span>
					</button>
					<div id="historyContainer">
						<!-- Past calculations will be displayed here -->
					</div>
				</div>
			</div>
		</div>

		<!-- Calculation Details Modal -->
		<div id="calculationDetailsModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Calculation Details</h3>
					<button class="close-modal">&times;</button>
				</div>
				<div
					id="modalCalculationDate"
					class="history-date"
					style="margin-bottom: 20px"
				></div>

				<h4 style="color: #2c3e50; margin-bottom: 15px">Summary</h4>
				<div
					class="results-grid"
					style="
						grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
						margin-bottom: 20px;
					"
				>
					<div class="result-card">
						<h3>Total Profit/Loss</h3>
						<div class="result-value currency" id="modalTotalProfit">$0.00</div>
					</div>
					<div class="result-card">
						<h3>Trader Capital</h3>
						<div class="result-value currency" id="modalTraderCapital">
							$0.00
						</div>
					</div>
					<div class="result-card">
						<h3>Total Pool</h3>
						<div class="result-value currency" id="modalTotalPool">$0.00</div>
					</div>
					<div class="result-card">
						<h3>Profit Status</h3>
						<div class="result-value" id="modalProfitStatus">
							<span class="profit-indicator profit">PROFIT</span>
						</div>
					</div>
				</div>

				<h4 style="color: #2c3e50; margin-bottom: 15px">Participants</h4>
				<table class="ownership-table">
					<thead>
						<tr>
							<th>Participant</th>
							<th>Capital</th>
							<th>Ownership %</th>
							<th>Final Balance</th>
							<th>Profit/Loss</th>
						</tr>
					</thead>
					<tbody id="modalOwnershipTableBody">
						<!-- Dynamic content will be inserted here -->
					</tbody>
				</table>

				<div id="modalNotesSection" style="margin-top: 20px">
					<h4 style="color: #2c3e50; margin-bottom: 15px">Notes</h4>
					<div
						id="modalNotesContent"
						style="background: #f8f9fa; padding: 15px; border-radius: 8px"
					></div>
				</div>

				<div class="modal-footer">
					<button id="deleteCalculationBtn" class="btn btn-danger">
						Delete
					</button>
					<button class="btn btn-secondary close-modal">Close</button>
				</div>
			</div>
		</div>
		<script src="script.js"></script>
	</body>
</html>
